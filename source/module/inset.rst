.. index:: ! inset
.. include:: common_SYN_OPTs.rst_

inset
=====

:官方文檔: :doc:`gmt:inset`
:簡介: 管理和設置圖中圖模式

**inset** 模塊用於管理圖中圖模式。即在紙張上規劃出一小片區域，並限制接下來的繪製
操作均只在該小區域內操作。

**inset** 模塊包含兩個命令：

- **inset begin** 用於設置圖中圖模式，其定義了圖中圖區域的位置和大小
- **inset end** 用於結束圖中圖模式，所有的操作都會回到原大圖中。

在圖中圖中，用戶可以使用任意的投影方式和投影區域。若投影方式中底圖寬度或
比例用 ``?`` 表示，則會根據 **-D** 選項設置的小圖尺寸自動確定小圖的投影參數。

inset begin語法
---------------

**gmt inset begin**
|-D|\ *inset-box*
[ |-F|\ *box* ]
[ |-M|\ *margins* ]
[ |-N| ]
[ |SYN_OPT-V| ]
[ |SYN_OPT--| ]

必須選項
--------

.. _-D:

**-D**\ *xmin/xmax/ymin/ymax*\ [**+r**][**+u**\ *unit*]
    類似於 :doc:`-R </option/R>` 選項，通過指定大圖中的一個矩形區域作爲小圖的繪圖區域。

    - **+r**: 與 :doc:`-R </option/R>` 選項類似，表明座標爲矩形區域的左下角和右上角座標。
    - **+u**\ *unit*\ : 與 :doc:`-R </option/R>` 選項類似，表明此時的座標爲投影后座標

**-D**\ [**g**\|\ **j**\|\ **J**\|\ **n**\|\ **x**]\ *refpoint*\ **+w**\ *width*\ [/*height*][**+j**\ *justify*][**+o**\ *dx*\ [/*dy*]]
    指定小圖區域的尺寸和位置

    簡單介紹各子選項的含義，詳情見 :doc:`/basis/embellishment`

    - **g**\|\ **j**\|\ **J**\|\ **n**\|\ **x**]\ *refpoint*\ 指定地圖上的參考點

      - **g** 指定某地圖座標位參考點
      - **j**\|\ **J** 通過2字母的對齊方式碼指定矩形區域的某個錨點作爲參考點
      - **n** 在歸一化座標系（即0-1）中指定參考點
      - **x** 在繪圖座標系下指定參考點

    - **+j**\ *justify* 指定小圖區域的錨點
    - **+o**\ *dx*/*dy* 在參考點的基礎上設置小圖區域的額外偏移量
    - **+w**\ *width*\ [/*height*] 指定小圖區域的寬度和高度。

可選選項
--------

.. _-F:

**-F**\ [**+c**\ *clearances*][**+g**\ *fill*][**+i**\ [[*gap*/]\ *pen*]][**+p**\ [*pen*]][**+r**\ [*radius*]][**+s**\ [[*dx*/*dy*/][*shade*]]]
    設置小圖區域的背景面板屬性。

    若只使用 **-F** 而不使用其它子選項，則會在小圖周圍繪製矩形邊框。
    下面簡單介紹各子選項，詳細用法見 :doc:`/basis/embellishment`

    - **+p**\ *pen* 指定背景面板的畫筆屬性（默認畫筆屬性由 :term:`MAP_FRAME_PEN` 決定）
    - **+g**\ *fill* 設置背景面板的填充色 [默認不填充]
    - **+c**\ *clearances* 以設置不同方向的空白間隔
    - **+i**\ *gap*/*pen* 在背景面板內部繪製一個額外的內邊框。\ *gap* 爲外邊框
      與內邊界之間的距離 [2p]，默認邊界屬性由 :term:`MAP_DEFAULT_PEN` 控制
    - **+r**\ *radius* 控制圓角矩形邊框，圓角矩形半徑 *radius* 默認爲 6p
    - **+s** 繪製背景面板陰影區。\ *dx*/*dy* 是陰影區相對於背景面板的偏移量 [4p/4p]。
      *shade* 爲陰影區的顏色 [gray50]。

.. _-M:

**-M**\ *margins*
    小圖區域內部的額外空白區域 [默認值沒有空白]。其可以取三種形式：

    - 一個值，表示四個邊的空白相同
    - 兩個用斜槓分隔的值，分別設置水平和垂直方向的空白
    - 四個用斜槓分隔的值，分別設置左右下上四條邊的空白

.. _-N:

**-N**
    不裁剪超過小圖區域邊界的部分。

.. include:: explain_-V.rst_

.. include:: explain_help.rst_

示例
----

.. gmtplot:: inset/inset-ex01.sh

.. gmtplot:: inset/inset-ex02.sh

相關模塊
--------

:doc:`begin`,
:doc:`clear`,
:doc:`docs`,
:doc:`end`,
:doc:`figure`,
:doc:`subplot`
