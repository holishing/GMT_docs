.. index:: ! grdcut
.. include:: common_SYN_OPTs.rst_

grdcut
======

:官方文件: :doc:`gmt:grdcut`
:簡介: 從一個網格文件中裁剪出一個子區域的網格文件

**grdcut** 模塊可以從一個網格文件中根據條件裁剪出一個新的網格文件。
子區域的選擇有如下幾種方式：

- **-R** 選項：直接指定子區域的範圍
- **-Z** 選項：通過檢查網格點的值間接限定子區域的範圍
- **-S** 選項：通過指定與特定點的距離間接限定子區域的範圍
- **-J** 和 **-R** 選項：對於傾斜投影，可以使用這兩個選項獲得覆蓋整個傾斜區域的子區域

語法
----

**gmt grdcut** *ingrid* |-G|\ *outgrid*
|SYN_OPT-R|
[ |-J|\ *parameters* ]
[ |-N|\ [*nodata*] ]
[ |-S|\ *lon/lat/radius*\ [*unit*]\ [**+n**] ]
[ |SYN_OPT-V| ]
[ |-Z|\ [*min/max*]\ [**+n**\|\ **N**\|\ **r**] ]
[ |SYN_OPT-f| ]
[ |SYN_OPT--| ]

必選選項
--------

*ingrid*
    輸入網格文件名

.. _-G:

**-G**\ *outgrid*
    輸出網格文件名

可選選項
--------

.. include:: explain_-J.rst_

.. _-N:

**-N**\ [*nodata*]
    允許新網格的區域範圍超過原網格的區域範圍。

    一般情況下，若指定的區域範圍大於輸入網格的區域範圍，超出的部分會被自動忽略，
    實際的輸出網格的區域範圍會自動適應輸入網格的區域範圍。使用 **-N** 選項，
    則超出的區域範圍內，網格節點會被賦以指定的值，默認賦值爲NaN，也可以自己
    指定其值爲 *nodata*\ 。

.. include:: explain_-R.rst_

.. _-S:

**-S**\ *lon/lat/radius*\ [*unit*]\ [**+n**]
    指定圓心位置（\ *lon/lat*\ ）及其半徑（\ *radius*\ ，單位爲 *unit*\ ），
    程序會自動計算一個矩形區域，該矩形區域包含了圓上及圓內所有網格點。
    **+n** 表示將所有矩形區域內但不在圓內的節點的值設爲NaN。

.. include:: explain_-V.rst_

.. _-Z:

**-Z**\ [*min/max*]\ [**+n**\|\ **N**\|\ **r**]
    確定一個新的矩形區域，使得所有該區域外的節點值都在指定的Z值範圍 *min/max* 外
    *min* 和 *max* 默認值爲正負無窮，可以用 **-** 表示無窮。

    默認情況下，值爲NaN的節點會被自動忽略。

    - **+n** 表示將 NaN 節點視作在給定的Z值範圍之外，則保證了新生成的子區域內是無NaN的
    - **+r** 表示將 NaN 節點視作在給定的Z值範圍之內，因而子區域的外部是無NaN的
    - **+N** 若新生成的子區域的某條邊界上的所有節點都是NaN，則去除該條邊界上的這一行或列

.. include:: explain_-f.rst_

.. include:: explain_help.rst_


示例
----

使用 **-R** 選項直接指定子區域的範圍::

    gmt grdcut @earth_relief_02m -Gregion_0_30_-30_30.nc -R0/30/-30/30

使用 **-S** 選項生成一個包含了原點(45,30)周圍 500 km 以內的所有點的矩形區域，
並設置矩形區域內圓外的節點值爲NaN::

    gmt grdcut @earth_relief_02m -Goutput.nc -S45/30/500k+n

使用 **-Z** 選項使得子區域外被除去的部分大於0::

    gmt grdcut @earth_relief_02m -Goutput.nc -Z-/0

對於一個傾斜投影的地圖，由於 **grdcut** 獲得的區域是由經線、緯度劃分出來的
矩形區域，而傾斜投影地圖的邊界不是由經緯線構成的，所以需要使用 **-J** 和 **-R**
選項指定一個更大的矩形區域以包含傾斜投影地圖的研究區域::

    gmt grdcut @earth_relief_02m -R160/20/220/30+r -Joc190/25.5/292/69/1 -Gdata.nc

相關
----

- :doc:`grdpaste`
- :doc:`grdsample`
