-R 選項
=======

**-R** 選項用於指定要繪製的數據範圍或地圖區域。該選項的參數可以用五種方式指定，
同時支持六種不同類型的數據座標。

五種方式
--------

可以用五種方式指定數據範圍。

#. **-R**\ *xmin*/*xmax*/*ymin*/*ymax*

   通過給定X方向和Y方向的最大最小值來指定數據範圍，是最常見的指定數據範圍的方式。
   常用於指定笛卡爾數據的範圍以及經線和緯線是直線的投影方式下的地理區域。
   例如 **-R0/360/-90/90** 表示X方向範圍是0到360，Y方向範圍是-90到90。

#. **-R**\ *xlleft*/*ylleft*/*xuright*/*yuright*\ **+r**

   通過給定矩形區域的左下角座標 (*xlleft*, *ylleft*) 和右上角座標 (*xuright*, *yuright*)
   來指定數據範圍。
   例如 **-R-90/20/-65/30+r**\ 。
   這種形式通常用於傾斜的地圖投影中，此時不適合將經線和緯線作爲地圖邊界。
   使用這種形式可以保證底圖爲矩形，儘管經線和緯線可能不是直線。

#. **-R**\ *gridfile*

   該方式會直接從2D網格文件 *gridfile* 中提取數據範圍信息。
   對於某些模塊，該方式不僅會從網格中讀取範圍信息，
   還會讀入網格間隔和網格配準信息（見 :doc:`/option/nodereg`\ ）。

#. **-R**\ *code1*,\ *code2*,\ *…*\ [**+e**\|\ **r**\|\ **R**\ [*incs*]]

   通過直接指定區域代碼 *code1*\ 、\ *code2* 等間接指定研究區域範圍。

   區域代碼可以表示某個大洲、某個國家、某個州或省，詳情見 :doc:`/dataset/dcw/index` 一節。

   **+r**\|\ **+R**\ *incs* 用於對通過區域代碼得到的研究區域範圍進一步擴張或縮減。
   其中 **+r** 表示調整區域範圍使得範圍是 *incs* 的整數倍，
   **+R** 表示 *incs* 被解釋爲區域範圍向外擴展的增量。
   其中 *incs* 有三種形式：

   #. *inc*\ ：四個邊具有相同的增量
   #. *xinc*/*yinc*\ ：X和Y方向具有不同的增量
   #. *winc*/*einc*/*sinc*/*ninc*\ ：上下左右四個邊具有不同的增量

   例如 **-RFR+r1** 表示取法國國界對應的區域範圍並將其調整到最近的整數度數。

#. **-R**\ *anchor*\ *x0*/*y0*/*nx*/*ny*

   該方法僅可用於創建新的網格文件。通過指定網格文件中某個特定點
   （由 *anchor* 決定，見 :doc:`/basis/anchor` 一節）的座標
   （由 *x0*/*y0* 決定），X和Y方向的網格點數
   （由 *nx*/*ny* 決定），以及X和Y方向的網格間隔
   （通常由 **-I**\ *xinc*/*yinc* 選項決定），即可指定網格文件的區域範圍。

.. gmtplot:: /scripts/GMT_-R.sh
    :show-code: false

    **-R** 選項指定數據範圍

    (a) 指定每個維度的極值；(b) 指定左下角和右上角的座標。

六種座標
--------

GMT的座標軸可以是多種類型，比如地圖的經緯度軸、一般的笛卡爾軸、時間軸等等。
不同類型的軸需要用不同類型的數據來指定數據的範圍。
**-R** 選項可以使用五種不同的方式來指定數據範圍：

#. :ref:`一般浮點座標 <float_coordinates>`
#. :ref:`地理座標 <geographic_coordinates>`
#. :ref:`絕對時間座標 <absolute_time_coordinates>`
#. :ref:`相對時間座標 <relative_time_coordinates>`
#. 投影后座標
#. 弧度座標

其中地理座標、浮點座標、絕對時間座標和相對時間座標在 :doc:`/basis/io-format`
中已經介紹過，此處不再贅述。

地理座標
~~~~~~~~

對於常用的地圖範圍，GMT提供了兩個簡化寫法：

- **-Rg** 等效於 **-R0/360/-90/90**
- **-Rd** 等效於 **-R-180/180/-90/90**

GMT 對於地理投影和線性投影的默認設置有很大區別。有些時候數據是地理座標，但是
因爲某些原因不能選擇地理投影，只能選擇線性投影（\ **-JX** 或 **-Jx**\ ），此時
可以通過如下幾種方式表明當前數據是地理座標下的數據，而不是簡單的笛卡爾座標：

#. 使用 **-Rg** 而不是 **0/360/-90/90**
#. 使用 **-Rd** 而不是 **-180/180/-90/90**
#. 使用 **-Rg**\ *xmin*/*xmax*/*ymin*/*ymax* 表明是某個有限範圍的地理區域
#. 在範圍後加後綴 **W|E|S|N** 或更通用的 **D|G**\ ，比如 **-R0/360G/-90/90N**
#. 使用 **-fg** 選項表明輸入數據是地理座標，見 :doc:`/option/f`

.. note::

   推薦使用 **-fg** 這種方式來指定輸入數據的類型。

投影后座標
~~~~~~~~~~

地理座標可以通過選擇投影方式投影成笛卡爾座標，通過在區域範圍後加上 **+u**\ *unit*
來表明這是一個經過投影的地理座標。

例如 **-R-200/200/-300/300+uk** 表示位於投影中心 **(0,0)** 處的一個 **400km x 600km**
的矩形區域。這些座標在GMT內部會被轉換成區域左下角和右上角的地理座標。
當你想要用投影單位指定區域時用這種方式會比較方便（例如UTM meters）。

弧度座標
~~~~~~~~

對於以弧度爲單位的數據而言，通常會需要指定數據範圍是 :math:`\pi` 的倍數或分數，
此時可以使用 [**+**\|\ **-**][*s*]\ **pi**\ [*f*] 形式，
其中 *s* 和 *f* 可以是任意整數或浮點數，
*s* 表示 **scale** 即倍數，\ *f* 表示 **fraction** 即分數。

例如 **-2pi/2pi3/0/1** 表示X軸的數據範圍是 :math:`-2\pi` 到 :math:`2/3\pi`\ ，
即相當於-360度到120度。

當使用這種形式時，程序只在 :math:`\pi` 相關的值處進行標註，即 n 倍的 :math:`\pi`\ ，
:math:`1.5\pi` 以及 3/4，2/3，1/2，1/3，1/4倍的 :math:`\pi`\ 。
