製作動畫
========

GMT提供了 :doc:`gmt:movie` 模塊用於簡化製作動圖的流程。

動畫本質上將一系列靜態的圖片（每張靜態圖片稱爲動畫的一幀）按照順序快速切換。
:doc:`gmt:movie` 模塊的作用就是生成一系列靜態圖片，並利用外部工具將所有
圖片合併轉換成單個動圖。

一張動圖中有很多不變的元素，比如底圖、海岸線、圖例等。通常來說，一張動圖可以
分爲三個圖層：

#. 靜態的背景圖層（可選）
#. 動態元素圖層（必須）
#. 靜態的前景圖層（可選）

用戶需要準備一至三個GMT腳本，分別用於繪製三個圖層。其中，繪製動態元素圖層
所需的腳本中可以使用一系列GMT預定義的變量。

GMT生成動畫的基本流程是：

#. 調用第一個腳本生成靜態背景圖層
#. 調用第三個腳本生成靜態前景圖層
#. 調用第二個腳本生成中間的動態元素所在的圖層
#. 將靜態背景圖層、中間動態圖層和靜態前景圖層按照順序疊在一起，得到一幀靜態圖片
#. 循環執行第3和第4步，得到動圖所需的所有幀靜態圖片
#. 調用外部工具將所有靜態圖片合併轉換爲動圖圖片

繪製正弦函數動畫
----------------

.. literalinclude:: anim01/anim01.sh

.. only:: html

    .. figure:: anim01/anim01.gif
       :align: center
       :width: 60%

.. only:: latex

    .. figure:: anim01/anim01.png
       :align: center
       :width: 60%

繪製旋轉的地球
--------------

本例中繪製了一個旋轉的地球動畫，圖上展示了地殼的的年齡。

.. literalinclude:: anim02/anim02.sh

.. only:: html

    .. figure:: anim02/anim02.gif
       :align: center
       :width: 60%

.. only:: latex

    .. figure:: anim02/anim02.png
       :align: center
       :width: 60%
